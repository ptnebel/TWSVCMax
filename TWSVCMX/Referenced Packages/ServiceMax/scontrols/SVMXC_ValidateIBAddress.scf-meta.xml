<?xml version="1.0" encoding="UTF-8"?>
<Scontrol xmlns="http://soap.sforce.com/2006/04/metadata">
    <contentSource>HTML</contentSource>
    <description>Gets the latitude &amp; longitude coordinates of an valid address.</description>
    <encodingKey>UTF-8</encodingKey>
    <fileContent>ZnVuY3Rpb24gcHJvZ3Jlc3MocykgeyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3MnKS5pbm5lckhUTUwgPSBzOyB9DQovKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8NCi8vIFNob3cgYSBwb3B1cCBjYWxlbmRhciBhZGphY2VudCB0byB0aGUgZGF0ZSBmaWVsZA0KLy8gVG9vIGJhZCB3ZSBjYW4ndCB1c2UgdGhlIHN0YW5kYXJkIGRhdGUgcG9wdXAgU0ZEQyB1c2VzDQpmdW5jdGlvbiBTVk1YQ19TaG93Q2FsKGN0bCwgZm9ybW5hbWUpDQp7DQogICAgb3BlblBvcHVwKCcvaG9tZS9jYWxlbmRhci5qc3A/Zm9ybT0nICsgZm9ybW5hbWUgKyAnJicgKyAnZmllbGQ9JyArIGN0bC5pZCArICcmbW89MCZjYWxsb25jaGFuZ2U9dHJ1ZScsDQogICAgCSdfYmxhbmsnLCAxODYsIDE3MCwNCgknd2lkdGg9MTg2LGhlaWdodD0xNzAscmVzaXphYmxlPXllcyx0b29sYmFyPW5vLHN0YXR1cz1ubyxzY3JvbGxiYXJzPW5vLG1lbnViYXI9bm8sZGlyZWN0b3JpZXM9bm8sbG9jYXRpb249bm8sZGVwZW5kYW50PXllcycsDQoJdHJ1ZSk7DQp9DQovKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovDQpmdW5jdGlvbiBTVk1YQ19BY3RpdmF0ZVNlcnZpY2VDb250cmFjdChDb250cmFjdElkKQ0Kew0KICAgIFNWTVhDX1NDX0luaXRNZXNzYWdlTGlzdCgiU0NPTlNDMSIpOw0KDQogICAgU1ZNWENfU0NfU2V0TGFiZWxzKG51bGwpOw0KICAgIHZhciBDb250cmFjdElkU2F2ZSA9IENvbnRyYWN0SWQ7DQoNCiAgICB2YXIgc29xbCA9ICJTRUxFQ1QgSWQgRlJPTSBTVk1YQ19fU2VydmljZV9Db250cmFjdF9fYyBXSEVSRSBTVk1YQ19fUmVuZXdlZF9Gcm9tX19jID0gJyIgKyBDb250cmFjdElkICsgIiciOw0KICAgIHZhciBxdWVyeVJlc3VsdCA9IHNmb3JjZS5jb25uZWN0aW9uLnF1ZXJ5KHNvcWwpOyANCiAgICB2YXIgcmVjb3JkcyA9IHF1ZXJ5UmVzdWx0LmdldEFycmF5KCJyZWNvcmRzIik7DQogICAgaWYgKHJlY29yZHMubGVuZ3RoID4gMCkgew0KICAgICAgICBhbGVydChTVk1YQ19HZXRNZXNzYWdlKCJNU0cwMDMiKSk7DQogICAgICAgIHdpbmRvdy5jbG9zZSgpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KDQogICAgdmFyIFJlbmV3ZWRGcm9tID0gQ29udHJhY3RJZDsNCiAgIA0KICAgIC8vIENoZWNrIGlmIHByZXZpb3VzIGNvbnRyYWN0cyBhcmUgYWN0aXZlLCBhbmQgZGVhY3RpdmF0ZSB0aGVtDQogICAgcHJvZ3Jlc3MoU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDA0IikpOw0KICAgICAgd2hpbGUgKCAgKFJlbmV3ZWRGcm9tICE9ICIiKSAmJiAoUmVuZXdlZEZyb20gIT0gbnVsbCkgICkgDQogICAgCXsNCiAgICAJdmFyIHNvcWwgPSAiU0VMRUNUIFNWTVhDX19SZW5ld2VkX0Zyb21fX2MgRlJPTSBTVk1YQ19fU2VydmljZV9Db250cmFjdF9fYyBXSEVSRSBpZCA9ICciICsgQ29udHJhY3RJZCArICInIjsNCgl2YXIgcXVlcnlSZXN1bHQgPSBzZm9yY2UuY29ubmVjdGlvbi5xdWVyeShzb3FsKTsgDQoJdmFyIHJlY29yZHMgPSBxdWVyeVJlc3VsdC5nZXRBcnJheSgicmVjb3JkcyIpOw0KCWlmIChyZWNvcmRzLmxlbmd0aCA+IDApDQoJICAgIHsNCgkgICAgUmVuZXdlZEZyb20gPSByZWNvcmRzWzBdLmdldCgiU1ZNWENfX1JlbmV3ZWRfRnJvbV9fYyIpOw0KCSAgIGlmICggKFJlbmV3ZWRGcm9tICE9ICIiKSYmIChSZW5ld2VkRnJvbSAhPSBudWxsKSAgKQ0KCQl7DQoJCXZhciBjT2JqID0gbmV3IHNmb3JjZS5TT2JqZWN0KCJTVk1YQ19fU2VydmljZV9Db250cmFjdF9fYyIpOw0KCQljT2JqLklkID0gUmVuZXdlZEZyb207DQoJCWNPYmouU1ZNWENfX0FjdGl2ZV9fYyA9IDA7DQoJCXRyeSB7DQoJCSAgICB2YXIgcmV0ID0gc2ZvcmNlLmNvbm5lY3Rpb24udXBkYXRlKFtjT2JqXSk7DQoJCQkgaWYgKCFyZXRbMF0uZ2V0Qm9vbGVhbigic3VjY2VzcyIpKQ0KCQkJCQl7DQoJCQkJCWFsZXJ0KHJldFswXS5lcnJvcnMubWVzc2FnZSk7ICAgICAgICAgICAgICANCgkJCQkJcmV0dXJuOw0KCQkJCQl9DQoJCSAgICBDb250cmFjdElkID0gUmVuZXdlZEZyb207DQoJCSAgICB9DQoJCWNhdGNoKGVycm9yKSB7DQoJCSAgICBhbGVydChTVk1YQ19HZXRNZXNzYWdlKCJNU0cwMDEiKSArICJcbiIgKyBlcnJvcik7DQoJCSAgICB9DQoJCX0NCgkgICAgfQ0KCWVsc2UNCgkgICAgew0KCSAgICBSZW5ld2VkRnJvbSA9ICIiOw0KCSAgICB9DQoJfQ0KDQogICAgcHJvZ3Jlc3MoU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDA1IikpOw0KICAgIHZhciBjT2JqID0gbmV3IHNmb3JjZS5TT2JqZWN0KCJTVk1YQ19fU2VydmljZV9Db250cmFjdF9fYyIpOw0KICAgIGNPYmouSWQgPSBDb250cmFjdElkU2F2ZTsNCiAgICBjT2JqLlNWTVhDX19BY3RpdmVfX2MgPSAxOw0KICAgIHRyeSB7DQoJdmFyIHJldCA9IHNmb3JjZS5jb25uZWN0aW9uLnVwZGF0ZShbY09ial0pOw0KCX0NCiAgICBjYXRjaChlcnJvcikNCgl7DQoJYWxlcnQoU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDAxIikgKyAiXG4iICsgZXJyb3IpOw0KCX0NCiAgICB3aW5kb3cub3BlbmVyLmxvY2F0aW9uID0gIi8iICsgQ29udHJhY3RJZFNhdmU7DQogICAgd2luZG93LmNsb3NlKCk7DQp9DQovKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8NCmZ1bmN0aW9uIFNWTVhDX0NhbmNlbFNlcnZpY2VDb250cmFjdChJc0FjdGl2ZSwgQ29udHJhY3RJZCwgVXNlcklkKQ0Kew0KICAgIFNWTVhDX1NDX0luaXRNZXNzYWdlTGlzdCgiU0NPTlNDMiIpOw0KICAgIFNWTVhDX1NDX1NldExhYmVscyhudWxsKTsNCiAgICBpZiAoSXNBY3RpdmUgPT0gMCkgew0KICAgICAgICBhbGVydChTVk1YQ19HZXRNZXNzYWdlKCJNU0cwMDMiKSk7DQogICAgICAgIHdpbmRvdy5jbG9zZSgpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KDQogICAgdmFyIGFucyA9IGNvbmZpcm0oU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDA0IikpOw0KICAgIGlmICghYW5zKSB7DQogICAgICAgIHdpbmRvdy5jbG9zZSgpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KDQogICAgcHJvZ3Jlc3MoU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDA1IikpOw0KICAgIHZhciBjT2JqID0gbmV3IHNmb3JjZS5TT2JqZWN0KCJTVk1YQ19fU2VydmljZV9Db250cmFjdF9fYyIpOw0KICAgIGNPYmouSWQgPSBDb250cmFjdElkOw0KICAgIGNPYmouU1ZNWENfX0FjdGl2ZV9fYyA9IDA7DQogICAgY09iai5TVk1YQ19fQ2FuY2VsZWRfQnlfX2MgPSBVc2VySWQ7DQoJDQogICAgY09iai5TVk1YQ19fQ2FuY2VsZWRfT25fX2M9IFNWTVhDX0dldEN1cnJlbnRUaW1lKCk7DQogICAgdHJ5IHsNCgl2YXIgcmV0ID0gc2ZvcmNlLmNvbm5lY3Rpb24udXBkYXRlKFtjT2JqXSk7DQoJfQ0KICAgIGNhdGNoKGVycm9yKQ0KICAgIAl7DQoJYWxlcnQoU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDAxIikgKyAiXG4iICsgZXJyb3IpOw0KCX0NCiAgICB3aW5kb3cub3BlbmVyLmxvY2F0aW9uID0gIi8iICsgQ29udHJhY3RJZDsNCiAgICB3aW5kb3cuY2xvc2UoKTsNCn0NCi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLw0KZnVuY3Rpb24gU1ZNWENfR2V0QWRkcmVzcyhvYmpOYW1lLCBvYmpJZCkgLy9CeSBHTQ0Kew0KdHJ5ew0KCXZhciBzUXVlcnkgPScnOw0KCXZhciBhZGRyZXNzID0nJzsNCglzd2l0Y2gob2JqTmFtZSkNCiAgICB7DQoJCWNhc2UgIlNWTVhDX19JbnN0YWxsZWRfUHJvZHVjdF9fYyI6DQoJCQlzUXVlcnkgPSAiU2VsZWN0IFNWTVhDX19aaXBfX2MsIFNWTVhDX19TdHJlZXRfX2MsIFNWTVhDX19TdGF0ZV9fYywgU1ZNWENfX0NvdW50cnlfX2MsIFNWTVhDX19DaXR5X19jIEZyb20gU1ZNWENfX0luc3RhbGxlZF9Qcm9kdWN0X19jIHdoZXJlIGlkPSciKyBvYmpJZCArIiciOw0KCQkJYnJlYWs7DQoJCWNhc2UgIlNWTVhDX19TaXRlX19jIjoNCgkJCXNRdWVyeSA9ICJTZWxlY3QgU1ZNWENfX1ppcF9fYywgU1ZNWENfX1N0cmVldF9fYywgU1ZNWENfX1N0YXRlX19jLCBTVk1YQ19fQ291bnRyeV9fYywgU1ZNWENfX0NpdHlfX2MgRnJvbSBTVk1YQ19fU2l0ZV9fYyB3aGVyZSBpZD0nIisgb2JqSWQgKyInIjsNCgkJCWJyZWFrOw0KCX0NCgkNCg0KCXZhciBxciA9IHNmb3JjZS5jb25uZWN0aW9uLnF1ZXJ5KHNRdWVyeSk7DQogICAgdmFyIHJlY3MgPSBxci5nZXRBcnJheSgicmVjb3JkcyIpOw0KICAgIGlmIChyZWNzLmxlbmd0aCA+IDApDQoJew0KCQl2YXIgciA9IHJlY3NbMF07DQoJCXN3aXRjaChvYmpOYW1lKQ0KICAgICAgICB7DQoJCQljYXNlICdTVk1YQ19fSW5zdGFsbGVkX1Byb2R1Y3RfX2MnOg0KCQkJCWlmKHIuU1ZNWENfX1N0cmVldF9fYykNCgkJCQkJYWRkcmVzcyArPSByLlNWTVhDX19TdHJlZXRfX2MgOw0KCQkJCWlmKHIuU1ZNWENfX0NpdHlfX2MpDQoJCQkJCWFkZHJlc3MgKz0gJywnICsgci5TVk1YQ19fQ2l0eV9fYyA7DQoJCQkJaWYoci5TVk1YQ19fU3RhdGVfX2MpDQoJCQkJCWFkZHJlc3MgKz0gJywnICsgci5TVk1YQ19fU3RhdGVfX2MgOw0KCQkJCWlmKHIuU1ZNWENfX1ppcF9fYykNCgkJCQkJYWRkcmVzcyArPSAnICcgKyByLlNWTVhDX19aaXBfX2MgOw0KCQkJCWlmKHIuU1ZNWENfX0NvdW50cnlfX2MpDQoJCQkJCWFkZHJlc3MgKz0gJywnICsgci5TVk1YQ19fQ291bnRyeV9fYyA7DQoJCQkJYnJlYWs7DQoJCQljYXNlICdTVk1YQ19fU2l0ZV9fYyc6DQoJCQkJaWYoci5TVk1YQ19fU3RyZWV0X19jKQ0KCQkJCQlhZGRyZXNzICs9IHIuU1ZNWENfX1N0cmVldF9fYyA7DQoJCQkJaWYoci5TVk1YQ19fQ2l0eV9fYykNCgkJCQkJYWRkcmVzcyArPSAnLCcgKyByLlNWTVhDX19DaXR5X19jIDsNCgkJCQlpZihyLlNWTVhDX19TdGF0ZV9fYykNCgkJCQkJYWRkcmVzcyArPSAnLCcgKyByLlNWTVhDX19TdGF0ZV9fYyA7DQoJCQkJaWYoci5TVk1YQ19fWmlwX19jKQ0KCQkJCQlhZGRyZXNzICs9ICcgJyArIHIuU1ZNWENfX1ppcF9fYyA7DQoJCQkJaWYoci5TVk1YQ19fQ291bnRyeV9fYykNCgkJCQkJYWRkcmVzcyArPSAnLCcgKyByLlNWTVhDX19Db3VudHJ5X19jIDsNCgkJCQlicmVhazsNCgkJfQ0KCX0gDQoJZWxzZSB3aW5kb3cuY2xvc2UoKTsgDQogDQoJCVNWTVhDX0NhbGN1bGF0ZUxhdExvbihvYmpOYW1lLCBvYmpJZCxhZGRyZXNzKTsNCiANCn0gY2F0Y2goZSkgeyBhbGVydChlKTt9DQp9DQovKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovIA0KLy9WYWxpZGF0ZSBBZGRyZXNzIFJvdXRpbmUgUmV0dXJucyB0aGUgTGF0aXR1ZGUgJiBsb25naXR1ZGUgY29vcmRpbmF0ZXMgZm9yIGEgdmFsaWQgYWRkcmVzcw0KLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyANCmZ1bmN0aW9uIFNWTVhDX0NhbGN1bGF0ZUxhdExvbihvYmplY3ROYW1lLCBvYmplY3RJZCxBZGRyZXNzKSANCnsgDQogDQoJU1ZNWENfU0NfSW5pdE1lc3NhZ2VMaXN0KCJWQURSU0MxIik7DQoJLy8gU1ZNWENfU0NfU2V0TGFiZWxzKG51bGwpOw0KCVNWTVhDX1NDX1NldExhYmVscygnYWRkcicpOw0KCQ0KCQ0KCW15R2VvY29kZXIgPSBuZXcgR0NsaWVudEdlb2NvZGVyKCk7IA0KCWlmICghbXlHZW9jb2RlcikgDQoJeyANCgkvLwlhbGVydCgiVW5hYmxlIHRvIGxhdW5jaCBHZW9jb2RlciB0byBjYWxjdWxhdGUgY29vcmRpbmF0ZXMuXG5QbGVhc2UgY29udGFjdCB5b3VyIFNlcnZpY2VNYXggYWRtaW5pc3RyYXRvci4iKTsgDQoJCWFsZXJ0KFNWTVhDX0dldE1lc3NhZ2UoIk1TRzAwMSIpKTsNCgkJcmV0dXJuIG51bGw7IA0KCX0gDQoNCglteUdlb2NvZGVyLmdldExvY2F0aW9ucyhBZGRyZXNzLCANCglmdW5jdGlvbihyZXNwb25zZSkgDQoJeyANCgkJaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLlN0YXR1cy5jb2RlID09IDIwMCkgDQoJCXsgDQoJCQl2YXIgcGxhY2UgPSByZXNwb25zZS5QbGFjZW1hcmtbMF07IA0KCQkJdmFyIG9ianVwZCA9IG5ldyBzZm9yY2UuU09iamVjdChvYmplY3ROYW1lKTsgDQoJCQlvYmp1cGQuSWQgPSBvYmplY3RJZDsgDQoJCQlvYmp1cGQuU1ZNWENfX0xhdGl0dWRlX19jID0gcGxhY2UuUG9pbnQuY29vcmRpbmF0ZXNbMV07IA0KCQkJb2JqdXBkLlNWTVhDX19Mb25naXR1ZGVfX2MgPSBwbGFjZS5Qb2ludC5jb29yZGluYXRlc1swXTsgDQoJCQl0cnkgeyANCgkJCQl2YXIgcmV0ID0gc2ZvcmNlLmNvbm5lY3Rpb24udXBkYXRlKFtvYmp1cGRdKTsgDQoJCQkJLy9hbGVydCgiVmFsaWQgQWRkcmVzcyEgTGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEiKTsgDQoJCQkJYWxlcnQoU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDAyIikpOw0KCQkJfSANCgkJCWNhdGNoKGUpIHsgYWxlcnQoU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDAzIikgKyAiXG4iICsgZSk7IH0gDQoJCX0gDQoJCWVsc2UgDQoJCXsgDQoJCQkvLwlhbGVydCgiVW5hYmxlIHRvIGNhbGN1bGF0ZSBjb29yZGluYXRlcyBvZiB0aGlzIGFkZHJlc3MhXG4iICsgIlBsZWFzZSBtYWtlIHN1cmUgdGhlIGFkZHJlc3MgaXMgdmFsaWQsIGRvZXMgbm90IGNvbnRhaW4gc3VpdGUvdW5pdCBudW1iZXJzLCBcbiIgKyAiYW5kIGRvZXMgbm90IGNvbnRhaW4gUE8gQm94IG51bWJlcnMuIik7IA0KCQkJYWxlcnQoU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDA0IikgKyAiXG4iICsgU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDA1IikgKyJcbiIgKyBTVk1YQ19HZXRNZXNzYWdlKCJNU0cwMDYiKSk7DQoJCX0gDQovLwkJd2luZG93LnBhcmVudC5sb2NhdGlvbiA9ICIvIiArIG9iamVjdElkOyANCgkJd2luZG93Lm9wZW5lci5sb2NhdGlvbi5yZWxvYWQoKSANCgkJd2luZG93LmNsb3NlKCk7IA0KCQl9IA0KCSk7IA0KfSANCi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovIA0KDQovKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8NCg0KLy8gQnVpbGQgYSBnbG9iYWwgaGFzaCB0YWJsZSBvZiBtZXNzYWdlIG51bWJlcnMgYW5kIG1lc3NhZ2VzLg0KLy8gVGhpcyBhcnJheSB3aWxsIGJlIHVzZWQgZm9yIGRpc3BsYXlpbmcgaW5mby93YXJuaW5nL2Vycm9yIG1lc3NhZ2VzIHRvIHRoZSB1c2VyLg0KZnVuY3Rpb24gU1ZNWENfU0NfSW5pdE1lc3NhZ2VMaXN0KHN1Ym1vZHVsZWlkKQ0Kew0KICAgIHZhciBmb3VuZCA9IGZhbHNlOw0KICAgIHZhciBMYW5nTGlzdCA9IG5ldyBBcnJheSgpOw0KDQogICAgCQkvLyBIYXNoIChNYXApIG9mIFNGREMgbGFuZ3VhZ2UgSVNPIGNvZGUgdG8gTGFuZ3VhZ2UgcGlja2xpc3QgaW4gU2VydmljZU1heCB0YWdzIG9iamVjdA0KICAgIExhbmdMaXN0WyJlbl9VUyJdID0gIkVuZ2xpc2giOw0KICAgIExhbmdMaXN0WyJkZSJdID0gIkdlcm1hbiI7DQogICAgTGFuZ0xpc3RbImVzIl0gPSAiU3BhbmlzaCI7DQogICAgTGFuZ0xpc3RbImZyIl0gPSAiRnJlbmNoIjsNCiAgICBMYW5nTGlzdFsiaXQiXSA9ICJJdGFsaWFuIjsNCiAgICBMYW5nTGlzdFsiamEiXSA9ICJKYXBhbmVzZSI7DQogICAgTGFuZ0xpc3RbInN2Il0gPSAiU3dlZGlzaCI7DQogICAgTGFuZ0xpc3RbImtvIl0gPSAiS29yZWFuIjsNCiAgICBMYW5nTGlzdFsiemhfVFciXSA9ICJDaGluZXNlIChUcmFkaXRpb25hbCkiOw0KICAgIExhbmdMaXN0WyJ6aF9DTiJdID0gIkNoaW5lc2UgKFNpbXBsaWZpZWQpIjsNCiAgICBMYW5nTGlzdFsicHRfQlIiXSA9ICJQb3J0dWd1ZXNlIChCcmF6aWxpYW4pIjsNCiAgICBMYW5nTGlzdFsibmxfTkwiXSA9ICJEdXRjaCI7DQogICAgTGFuZ0xpc3RbImRhIl0gPSAiRGFuaXNoIjsNCiAgICBMYW5nTGlzdFsidGgiXSA9ICJUaGFpIjsNCiAgICBMYW5nTGlzdFsiZmkiXSA9ICJGaW5uaXNoIjsNCiAgICBMYW5nTGlzdFsicnUiXSA9ICJSdXNzaWFuIjsNCg0KICAgIHZhciBVc2VyTGFuZyA9IHNmb3JjZS5jb25uZWN0aW9uLmdldFVzZXJJbmZvKCkudXNlckxhbmd1YWdlOwkvLyBJU08gY29kZSBvZiB0aGUgdXNlcidzIGxhbmd1YWdlDQoNCiAgICBpZiAoIUxhbmdMaXN0W1VzZXJMYW5nXSkgeyBVc2VyTGFuZyA9ICJFbmdsaXNoIjsgfQkJLy8gaWYgdXNlcidzIGxhbmd1YWdlIGlzIG5vdCBmb3VuZCwgZGVmYXVsdCBpdCB0byBFbmdsaXNoDQogICAgZWxzZSB7IFVzZXJMYW5nID0gTGFuZ0xpc3RbVXNlckxhbmddOyB9DQoNCiAgICB2YXIgc29xbCA9ICJTRUxFQ1QgSWQsIE5hbWUsIFNWTVhDX19UYWdfVGV4dF9fYywgU1ZNWENfX0xhbmd1YWdlX19jICIgKw0KICAgIAkJIkZST00gU1ZNWENfX1NlcnZpY2VNYXhfVGFnc19fYyAiICsNCgkJIldIRVJFIFNWTVhDX19TdWJtb2R1bGVJRF9fYyA9ICciICsgc3VibW9kdWxlaWQgKyAiJyAiICsNCgkJIkFORCBTVk1YQ19fTGFuZ3VhZ2VfX2MgSU4gKCdNYXN0ZXInLCAnIiArIFVzZXJMYW5nICsgIicpIjsNCiAgICB2YXIgcXIgPSBzZm9yY2UuY29ubmVjdGlvbi5xdWVyeShzb3FsKTsNCiAgICB2YXIgdGFncmVjcyA9IG5ldyBzZm9yY2UuUXVlcnlSZXN1bHRJdGVyYXRvcihxcik7DQogICAgd2hpbGUgKHRhZ3JlY3MuaGFzTmV4dCgpKQ0KICAgIAl7DQogICAgICAgIHZhciB0YWdyZWMgPSB0YWdyZWNzLm5leHQoKTsNCgl2YXIgVGFnSWQgPSB0YWdyZWMuTmFtZTsNCgl2YXIgVGFnVGV4dCA9IHRhZ3JlYy5TVk1YQ19fVGFnX1RleHRfX2M7DQoJdmFyIExhbmcgPSB0YWdyZWMuU1ZNWENfX0xhbmd1YWdlX19jOw0KCWlmIChMYW5nID09ICJNYXN0ZXIiICYmICFNc2dMaXN0W1RhZ0lkXSkNCgkgICAgew0KCSAgICBNc2dMaXN0W1RhZ0lkXSA9IFRhZ1RleHQ7DQoJICAgIH0NCgllbHNlIGlmIChMYW5nID09IFVzZXJMYW5nICYmIFRhZ1RleHQgJiYgVGFnVGV4dC5sZW5ndGggPiAwKQkvLyBUcmFuc2xhdGlvbiBhdmFpbGFibGUgaW4gdGhlIHNwZWNpZmljIGxhbmd1YWdlDQoJICAgIHsNCgkgICAgTXNnTGlzdFtUYWdJZF0gPSBUYWdUZXh0Ow0KCSAgICB9DQoNCglmb3VuZCA9IHRydWU7DQoJfQ0KDQogICAgaWYgKCFmb3VuZCkNCgl7CQkNCglpZiAoc3VibW9kdWxlaWQgPT0gIlNDT05TQzMiKQ0KCSAgICB7DQoJICAgIE1zZ0xpc3RbJ01TRzAwMSddID0gJ0FuIGludGVybmFsIGVycm9yIG9jY3VycmVkIHdoZW4gc2F2aW5nIGRhdGEuIFBsZWFzZSBjb250YWN0IHlvdXIgU2VydmljZU1heCBhZG1pbmlzdHJhdG9yIHRvIHJlc29sdmUgdGhpcy4nOw0KCSAgICBNc2dMaXN0WydNU0cwMDInXSA9ICdBbiBpbnRlcm5hbCBlcnJvciBvY2N1cnJlZCB3aGVuIHJldHJpZXZpbmcgZGF0YS4gUGxlYXNlIGNvbnRhY3QgeW91ciBTZXJ2aWNlTWF4IGFkbWluaXN0cmF0b3IgdG8gcmVzb2x2ZSB0aGlzLic7DQoJICAgIE1zZ0xpc3RbJ01TRzAwMyddID0gJ1BsZWFzZSBlbnRlciBhIHZhbGlkIHN0YXJ0IGRhdGUuJzsNCgkgICAgTXNnTGlzdFsnTVNHMDA0J10gPSAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW5kIGRhdGUuJzsNCgkgICAgTXNnTGlzdFsnTVNHMDA1J10gPSAnU3RhcnQgZGF0ZSBzaG91bGQgYmUgZWFybGllciB0aGFuIGVuZCBkYXRlLic7DQoJICAgIE1zZ0xpc3RbJ01TRzk5OSddID0gJ0FyZSB5b3Ugc3VyZT8nOw0KCSAgICBNc2dMaXN0WydMQUIwMDAnXSA9ICdSZW5ldyBTZXJ2aWNlIENvbnRyYWN0JzsgDQoJICAgIE1zZ0xpc3RbJ0xBQjAwMSddID0gJ1N0YXJ0IERhdGUnOw0KCSAgICBNc2dMaXN0WydMQUIwMDInXSA9ICdFbmQgRGF0ZSc7DQoJICAgIE1zZ0xpc3RbJ0xBQjAwMyddID0gJ1JlbmV3IENvbnRyYWN0JzsNCgkgICAgTXNnTGlzdFsnTEFCMDA0J10gPSAnQ2FuY2VsJzsNCgkgICAgfQ0KCWVsc2UgaWYgKHN1Ym1vZHVsZWlkID09ICJTQ09OU0MxIikNCgkgICAgew0KCSAgICBNc2dMaXN0WydNU0cwMDEnXSA9ICdBbiBpbnRlcm5hbCBlcnJvciBvY2N1cnJlZCB3aGVuIHNhdmluZyBkYXRhLiBQbGVhc2UgY29udGFjdCB5b3VyIFNlcnZpY2VNYXggYWRtaW5pc3RyYXRvciB0byByZXNvbHZlIHRoaXMuJzsNCgkgICAgTXNnTGlzdFsnTVNHMDAyJ10gPSAnQW4gaW50ZXJuYWwgZXJyb3Igb2NjdXJyZWQgd2hlbiByZXRyaWV2aW5nIGRhdGEuIFBsZWFzZSBjb250YWN0IHlvdXIgU2VydmljZU1heCBhZG1pbmlzdHJhdG9yIHRvIHJlc29sdmUgdGhpcy4nOw0KCSAgICBNc2dMaXN0WydNU0cwMDMnXSA9ICdDYW5ub3QgYWN0aXZhdGUhIFRoaXMgU2VydmljZSBDb250cmFjdCBoYXMgYmVlbiByZW5ld2VkIGFscmVhZHkuJzsNCgkgICAgTXNnTGlzdFsnTVNHMDA0J10gPSAnRGVhY3RpdmF0aW5nIHByZXZpb3VzIFNlcnZpY2UgQ29udHJhY3RzLi4uJzsNCgkgICAgTXNnTGlzdFsnTVNHMDA1J10gPSAnQWN0aXZhdGluZyBTZXJ2aWNlIENvbnRyYWN0Li4uJzsNCgkgICAgTXNnTGlzdFsnTEFCMDAwJ10gPSAnQWN0aXZhdGUgU2VydmljZSBDb250cmFjdCc7IA0KCSAgICB9DQoJZWxzZSBpZiAoc3VibW9kdWxlaWQgPT0gIlNDT05TQzIiKQkJCQkJCQ0KCSAgICB7DQoJICAgIE1zZ0xpc3RbJ01TRzAwMSddID0gJ0FuIGludGVybmFsIGVycm9yIG9jY3VycmVkIHdoZW4gc2F2aW5nIGRhdGEuIFBsZWFzZSBjb250YWN0IHlvdXIgU2VydmljZU1heCBhZG1pbmlzdHJhdG9yIHRvIHJlc29sdmUgdGhpcy4nOw0KCSAgICBNc2dMaXN0WydNU0cwMDInXSA9ICdBbiBpbnRlcm5hbCBlcnJvciBvY2N1cnJlZCB3aGVuIHJldHJpZXZpbmcgZGF0YS4gUGxlYXNlIGNvbnRhY3QgeW91ciBTZXJ2aWNlTWF4IGFkbWluaXN0cmF0b3IgdG8gcmVzb2x2ZSB0aGlzLic7DQoJICAgIE1zZ0xpc3RbJ01TRzAwMyddID0gJ1RoaXMgU2VydmljZSBDb250cmFjdCBpcyBub3QgYWN0aXZlLiBPbmx5IEFjdGl2ZSBDb250cmFjdHMgY2FuIGJlIGNhbmNlbGVkLic7DQoJICAgIE1zZ0xpc3RbJ01TRzAwNCddID0gJ0FyZSB5b3Ugc3VyZSB0byBjYW5jZWwgdGhpcyBTZXJ2aWNlIENvbnRyYWN0Pyc7DQoJICAgIE1zZ0xpc3RbJ01TRzAwNSddID0gJ0NhbmNlbGluZyBTZXJ2aWNlIENvbnRyYWN0Li4uJzsJCQ0KCSAgICBNc2dMaXN0WydMQUIwMDAnXSA9ICdDYW5jZWwgU2VydmljZSBDb250cmFjdCc7IA0KCSAgICB9DQoJZWxzZSBpZiAoc3VibW9kdWxlaWQgPT0gIlZBRFJTQzEiKQ0KCSAgICB7DQoJICAgIE1zZ0xpc3RbJ01TRzAwMSddID0gJ1VuYWJsZSB0byBsYXVuY2ggR2VvY29kZXIgdG8gY2FsY3VsYXRlIGNvb3JkaW5hdGVzLlxuUGxlYXNlIGNvbnRhY3QgeW91ciBTZXJ2aWNlTWF4IGFkbWluaXN0cmF0b3IuJzsNCgkgICAgTXNnTGlzdFsnTVNHMDAyJ10gPSAnVmFsaWQgQWRkcmVzcyEgTGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEnOw0KCSAgICBNc2dMaXN0WydNU0cwMDMnXSA9ICdUaGUgZm9sbG93aW5nIGVycm9yIG9jY3VycmVkIGluIHVwZGF0aW5nIGFkZHJlc3MgY29vcmRpbmF0ZXM6JzsNCgkgICAgTXNnTGlzdFsnTVNHMDA0J10gPSAnVW5hYmxlIHRvIGNhbGN1bGF0ZSBjb29yZGluYXRlcyBvZiB0aGlzIGFkZHJlc3MhJzsNCgkgICAgTXNnTGlzdFsnTVNHMDA1J10gPSAnUGxlYXNlIG1ha2Ugc3VyZSB0aGUgYWRkcmVzcyBpcyB2YWxpZCwgZG9lcyBub3QgY29udGFpbiBzdWl0ZS91bml0IG51bWJlcnMsJzsNCgkgICAgTXNnTGlzdFsnTVNHMDA2J10gPSAnYW5kIGRvZXMgbm90IGNvbnRhaW4gUE8gQm94IG51bWJlcnMuJzsNCgkgICAgTXNnTGlzdFsnTEFCMDAwJ10gPSAnVmFsaWRhdGUgTG9jYXRpb24gQWRkcmVzcyc7DQoJICAgIE1zZ0xpc3RbJ0xBQjAwMSddID0gJ1BsZWFzZSB3YWl0Li4uJzsNCgkgICAgTXNnTGlzdFsnTEFCMDAyJ10gPSAnQ2FsY3VsYXRlIExhdGl0dWRlL0xvbmdpdHVkZSc7DQoJICAgIH0NCgllbHNlDQoJICAgIGFsZXJ0KCJVbnN1cHBvcnRlZCBzdWJtb2R1bGVpZCAiICsgc3VibW9kdWxlaWQgKyAiLiBUaGlzIGlzIGEgcHJvZ3JhbW1pbmcgZXJyb3IuIik7DQoJfQ0KfQ0KLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovDQovLyBHZXQgdGhlIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBtZXNzYWdlIG51bWJlciBmcm9tIHRoZSBnbG9iYWwgaGFzaCB0YWJsZS4NCi8vIFJldHVybiAic2V0dXAtaXNzdWUiIGlmIHRoZSBtZXNzYWdlIGlzIG5vdCBmb3VuZA0KZnVuY3Rpb24gU1ZNWENfR2V0TWVzc2FnZShNc2dOdW0pDQp7DQogICAgaWYgKCFNc2dMaXN0W01zZ051bV0pDQogICAgCXJldHVybiAiTWVzc2FnZSBkZWZpbml0aW9uIGZvciAiICsgTXNnTnVtICsgIiBub3QgZm91bmQuIFRoaXMgaXMgYSBzZXR1cCBpc3N1ZS5cblBsZWFzZSBjb250YWN0IHlvdXIgU2VydmljZU1heCBhZG1pbmlzdHJhdG9yIHRvIHJlc29sdmUgdGhpcy4iOw0KDQogICAgcmV0dXJuIE1zZ0xpc3RbTXNnTnVtXTsNCn0NCi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLw0KZnVuY3Rpb24gU1ZNWENfU0NfU2V0TGFiZWxzKGZvcm1uYW1lKQ0Kew0KDQppZiAoZm9ybW5hbWUhPW51bGwpDQoJew0KICAgIHZhciBsYWJlbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGFiZWwnKTsNCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7IGkrKykNCgl7DQoJCXZhciBmID0gbGFiZWxzW2ldOw0KCQlpZiAoTXNnTGlzdFtmLm5hbWVdKQ0KCQkJZi5pbm5lclRleHQgPSBNc2dMaXN0W2YubmFtZV07DQoJfQ0KICAgIHZhciBlbGVtcyA9IGRvY3VtZW50LmZvcm1zW2Zvcm1uYW1lXS5lbGVtZW50czsNCiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVsZW1zLmxlbmd0aDsgaisrKQ0KCXsNCgkJdmFyIGYgPSBlbGVtc1tqXTsNCgkJaWYgKChmLnR5cGUgPT0gJ2J1dHRvbicgfHwgZi50eXBlID09ICdjaGVja2JveCcpICYmIE1zZ0xpc3RbZi5uYW1lXSkNCgkJCWYudmFsdWUgPSBNc2dMaXN0W2YubmFtZV07DQoJCX0JDQoJfQ0KCWlmIChNc2dMaXN0WyJMQUIwMDAiXSkJCQ0KCQlkb2N1bWVudC50aXRsZSA9IE1zZ0xpc3RbIkxBQjAwMCJdOyAgIAkNCgkJcmV0dXJuIHRydWU7DQp9DQovKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovDQovKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8NCmZ1bmN0aW9uIFNWTVhDX1NDX0NhbmNlbFNjcmVlbigpDQp7DQogICAgdmFyIGFucyA9IGNvbmZpcm0oU1ZNWENfR2V0TWVzc2FnZSgiTVNHOTk5IikpOw0KICAgIGlmICghYW5zKSB7IHJldHVybjsgfQ0KICAgIHdpbmRvdy5jbG9zZSgpOw0KfQ0KLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovDQovLyBDaGVjayBpZiB0aGUgZ2l2ZW4gZmllbGQgaXMgYmxhbmsNCmZ1bmN0aW9uIFNWTVhDX0lzRmllbGRCbGFuayhmbmFtZSkNCnsNCiAgICB2YXIgY3RsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm5hbWUpOw0KDQogICAgaWYoKGN0bC50eXBlID09ICJ0ZXh0IiB8fCBjdGwudHlwZSA9PSAiaGlkZGVuIikgJiYgKCFjdGwudmFsdWUgfHwgY3RsLnZhbHVlLmxlbmd0aCA9PSAwKSkgeyByZXR1cm4gdHJ1ZTsgfQ0KDQogICAgaWYoY3RsLnR5cGUgPT0gInNlbGVjdC1vbmUiICYmIGN0bC5zZWxlY3RlZEluZGV4ID09IC0xKSB7IHJldHVybiB0cnVlOyB9DQoNCiAgICByZXR1cm4gZmFsc2U7DQp9DQovKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8NCi8vIENoZWNrIGlmIHRoZSBnaXZlbiBkYXRlIGlzIHZhbGlkIGFzIHBlciB0aGUgdXNlcidzIGxvY2FsZQ0KZnVuY3Rpb24gU1ZNWENfSXNWYWxpZERhdGUoZm5hbWUpDQp7DQogICAgdmFyIGN0bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZuYW1lKTsNCiAgICByZXR1cm4oRGF0ZVV0aWwuaXNEYXRlKGN0bC52YWx1ZSwgd2luZG93Lm9wZW5lci5Vc2VyQ29udGV4dC5kYXRlRm9ybWF0KSk7DQp9DQovKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8NCmZ1bmN0aW9uIFNWTVhDX1NDX1JlbmV3U2VydmljZUNvbnRyYWN0KG9sZENvbnRyYWN0SWQpDQp7DQogICAgdmFyIEVyck1zZyA9ICIiOw0KICAgIHZhciByZWNfdmFsaWQgPSB0cnVlOw0KDQogICAgaWYgKFNWTVhDX0lzRmllbGRCbGFuaygic3RhcnRfZGF0ZSIpIHx8ICFTVk1YQ19Jc1ZhbGlkRGF0ZSgic3RhcnRfZGF0ZSIpKQ0KICAgIAl7DQoJcmVjX3ZhbGlkID0gZmFsc2U7DQoJaWYgKEVyck1zZy5sZW5ndGggPiAwKSB7IEVyck1zZyArPSAiPGJyPiI7IH0NCglFcnJNc2cgKz0gU1ZNWENfR2V0TWVzc2FnZSgiTVNHMDAzIik7DQoJfQ0KDQogICAgaWYgKFNWTVhDX0lzRmllbGRCbGFuaygiZW5kX2RhdGUiKSB8fCAhU1ZNWENfSXNWYWxpZERhdGUoImVuZF9kYXRlIikpDQogICAgCXsNCglyZWNfdmFsaWQgPSBmYWxzZTsNCglpZiAoRXJyTXNnLmxlbmd0aCA+IDApIHsgRXJyTXNnICs9ICI8YnI+IjsgfQ0KCUVyck1zZyArPSBTVk1YQ19HZXRNZXNzYWdlKCJNU0cwMDQiKTsNCgl9DQoNCiAgICB2YXIgc3RyU3RhcnREYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0YXJ0X2RhdGUiKS52YWx1ZTsNCiAgICB2YXIgc3RyRW5kRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbmRfZGF0ZSIpLnZhbHVlOw0KICAgIHZhciBkdFN0YXJ0RGF0ZSA9IFNWTVhDX0dldERhdGVGcm9tRm9ybWF0KHN0clN0YXJ0RGF0ZSwgd2luZG93Lm9wZW5lci5Vc2VyQ29udGV4dC5kYXRlRm9ybWF0KTsNCiAgICB2YXIgZHRFbmREYXRlID0gU1ZNWENfR2V0RGF0ZUZyb21Gb3JtYXQoc3RyRW5kRGF0ZSwgd2luZG93Lm9wZW5lci5Vc2VyQ29udGV4dC5kYXRlRm9ybWF0KTsNCg0KICAgIGlmIChkdFN0YXJ0RGF0ZSA+IGR0RW5kRGF0ZSkNCiAgICAJew0KCXJlY192YWxpZCA9IGZhbHNlOw0KCWlmIChFcnJNc2cubGVuZ3RoID4gMCkgeyBFcnJNc2cgKz0gIjxicj4iOyB9DQoJRXJyTXNnICs9IFNWTVhDX0dldE1lc3NhZ2UoIk1TRzAwNSIpOw0KCX0NCg0KICAgIGlmICghcmVjX3ZhbGlkKSANCgl7DQoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkVyck1zZyIpLnN0eWxlLmJvcmRlciA9ICIjRkYwMDAwIDJweCBzb2xpZCI7DQoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkVyck1zZyIpLmlubmVySFRNTCA9ICI8c3Ryb25nPkVycm9yOiA8L3N0cm9uZz48YnI+IiArIEVyck1zZzsNCglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiRXJyTXNnIikuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQoJcmV0dXJuIGZhbHNlOw0KCX0NCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiRXJyTXNnIikuc3R5bGUuYm9yZGVyID0gIjAiOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJFcnJNc2ciKS5pbm5lckhUTUwgPSAiIjsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiRXJyTXNnIikuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCg0KICAgIHZhciBuZXdDb250cmFjdElkID0gU1ZNWENfQ3JlYXRlU2VydmljZUNvbnRyYWN0KG9sZENvbnRyYWN0SWQsICJTVk1YQ19fU2VydmljZV9Db250cmFjdF9fYyIpOw0KICAgIGlmIChuZXdDb250cmFjdElkKQ0KICAgIAl7DQoJU1ZNWENfY2xvbmVSZWZMaXN0KCJTVk1YQ19fU2VydmljZV9Db250cmFjdF9Qcm9kdWN0c19fYyIsIG9sZENvbnRyYWN0SWQsIG5ld0NvbnRyYWN0SWQsICJTVk1YQ19fU2VydmljZV9Db250cmFjdF9fYyIpOw0KCVNWTVhDX2Nsb25lUmVmTGlzdCgiU1ZNWENfX1NlcnZpY2VfQ29udHJhY3RfQ29udGFjdHNfX2MiLCBvbGRDb250cmFjdElkLCBuZXdDb250cmFjdElkLCAiU1ZNWENfX1NlcnZpY2VfQ29udHJhY3RfX2MiKTsNCglTVk1YQ19jbG9uZVJlZkxpc3QoIlNWTVhDX19TZXJ2aWNlX0NvbnRyYWN0X1NpdGVzX19jIiwgb2xkQ29udHJhY3RJZCwgbmV3Q29udHJhY3RJZCwgIlNWTVhDX19TZXJ2aWNlX0NvbnRyYWN0X19jIik7DQoJU1ZNWENfY2xvbmVSZWZMaXN0KCJTVk1YQ19fU2VydmljZV9Db250cmFjdF9TZXJ2aWNlc19fYyIsIG9sZENvbnRyYWN0SWQsIG5ld0NvbnRyYWN0SWQsICJTVk1YQ19fU2VydmljZV9Db250cmFjdF9fYyIpOw0KCXdpbmRvdy5vcGVuZXIubG9jYXRpb24gPSAiLyIgKyBuZXdDb250cmFjdElkOw0KCX0NCiAgICB3aW5kb3cuY2xvc2UoKTsNCn0NCi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLw0KZnVuY3Rpb24gU1ZNWENfQ3JlYXRlU2VydmljZUNvbnRyYWN0KENvbnRyYWN0SWQsIG9iaikNCnsNCiAgICAvLyBCdWlsZCBhIFNFTEVDVCBjb21tYW5kIHVzaW5nIGFsbCBmaWVsZCBuYW1lcyBpbiB0aGUgb2JqZWN0DQogICAgdmFyIHFmaWVsZHMgPSIiOw0KICAgIHZhciByZXN1bHQgPSBzZm9yY2UuY29ubmVjdGlvbi5kZXNjcmliZVNPYmplY3Qob2JqKTsNCiAgICBmb3IgKHZhciBpPTA7IGk8cmVzdWx0LmZpZWxkcy5sZW5ndGg7IGkrKykgew0KCXZhciBmaWVsZCA9IHJlc3VsdC5maWVsZHNbaV07DQoJaWYgKChmaWVsZC5jcmVhdGVhYmxlKSAmJiAoZmllbGQudXBkYXRlYWJsZSkgJiYgKGZpZWxkLm5hbWUgIT0gIklkIikpIHsNCgkgICAgcWZpZWxkcyA9IHFmaWVsZHMgKyBmaWVsZC5uYW1lICsgIiwgIg0KCX0NCiAgICB9DQogICAgdmFyIHNvcWwgPSAiU0VMRUNUICIgKyBxZmllbGRzICsgIiBJZCBGUk9NICIgKyBvYmogKyAiIFdIRVJFIGlkID0gJyIrIENvbnRyYWN0SWQgKyInIjsNCiAgICB2YXIgcXVlcnlSZXN1bHQgPSBzZm9yY2UuY29ubmVjdGlvbi5xdWVyeShzb3FsKTsgDQogICAgaWYgKHF1ZXJ5UmVzdWx0LnNpemUgPD0gMCkNCgl7DQoJYWxlcnQoIlVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQuIFRoZSBzZXJ2aWNlIGNvbnRyYWN0IHdhcyBub3QgZm91bmQuXG5QbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IgdG8gU2VydmljZU1heCBzdXBwb3J0LiIpOw0KCXJldHVybiBudWxsOw0KCX0NCiAgICB2YXIgcmVjb3JkcyA9IHF1ZXJ5UmVzdWx0LmdldEFycmF5KCJyZWNvcmRzIik7DQoNCiAgICAvLyBDb3B5IGZpZWxkcyBmcm9tIG9sZCBTZXJ2aWNlIENvbnRyYWN0IHRvIHRoZSBuZXcgb25lDQogICAgdmFyIE5ld1NDID0gbmV3IHNmb3JjZS5TT2JqZWN0KG9iaik7DQoNCiAgICBOZXdTQy5OYW1lID0gcmVjb3Jkc1swXS5OYW1lOw0KICAgIE5ld1NDLlNWTVhDX19Db21wYW55X19jID0gcmVjb3Jkc1swXS5TVk1YQ19fQ29tcGFueV9fYzsNCiAgICBOZXdTQy5TVk1YQ19fQ29udGFjdF9fYyA9IHJlY29yZHNbMF0uU1ZNWENfX0NvbnRhY3RfX2M7DQogICAgTmV3U0MuU1ZNWENfX0NvbnRyYWN0X1ByaWNlMl9fYyA9IHJlY29yZHNbMF0uU1ZNWENfX0NvbnRyYWN0X1ByaWNlMl9fYzsNCiAgICBOZXdTQy5TVk1YQ19fRGlzY291bnRfX2MgPSByZWNvcmRzWzBdLlNWTVhDX19EaXNjb3VudF9fYzsNCiAgIC8vIE5ld1NDLlNWTVhDX19EaXNjb3VudGVkX1ByaWNlMl9fYyA9IHJlY29yZHNbMF0uU1ZNWENfX0Rpc2NvdW50ZWRfUHJpY2UyX19jOw0KICAgIE5ld1NDLlNWTVhDX19TYWxlc19SZXBfX2MgPSByZWNvcmRzWzBdLlNWTVhDX19TYWxlc19SZXBfX2M7DQogICAgTmV3U0MuU1ZNWENfX1NlcnZpY2VfQ29udHJhY3RfTm90ZXNfX2MgPSByZWNvcmRzWzBdLlNWTVhDX19TZXJ2aWNlX0NvbnRyYWN0X05vdGVzX19jOw0KICAgIE5ld1NDLlNWTVhDX19TZXJ2aWNlX0xldmVsX19jID0gcmVjb3Jkc1swXS5TVk1YQ19fU2VydmljZV9MZXZlbF9fYzsNCiAgICBOZXdTQy5TVk1YQ19fU3RhcnRfRGF0ZV9fYyA9IFNWTVhDX0NvbnZlcnRUb1NGRENEYXRlRm9ybWF0KCJzdGFydF9kYXRlIik7DQogICAgTmV3U0MuU1ZNWENfX0VuZF9EYXRlX19jID0gU1ZNWENfQ29udmVydFRvU0ZEQ0RhdGVGb3JtYXQoImVuZF9kYXRlIik7DQogICAgdmFyIGN1cmRhdGUgPSBuZXcgRGF0ZSgpOw0KICAgIE5ld1NDLlNWTVhDX19SZW5ld2FsX0RhdGVfX2MgPSBTVk1YQ19Db252ZXJ0RGF0ZVRvU0ZEQyhjdXJkYXRlKTsNCiAgICBpZiAocmVjb3Jkc1swXS5TVk1YQ19fUmVuZXdhbF9OdW1iZXJfX2MgPT0gbnVsbCkNCglOZXdTQy5TVk1YQ19fUmVuZXdhbF9OdW1iZXJfX2MgPSAxOw0KICAgIGVsc2UNCglOZXdTQy5TVk1YQ19fUmVuZXdhbF9OdW1iZXJfX2MgPSBwYXJzZUludChyZWNvcmRzWzBdLlNWTVhDX19SZW5ld2FsX051bWJlcl9fYykgKyAxOw0KICAgIE5ld1NDLlNWTVhDX19SZW5ld2VkX0Zyb21fX2MgPSBDb250cmFjdElkOw0KICAgIE5ld1NDLlNWTVhDX19BY3RpdmVfX2MgPSAiZmFsc2UiOw0KICAgIE5ld1NDLlNWTVhDX19BbGxfQ29udGFjdHNfQ292ZXJlZF9fYyA9IHJlY29yZHNbMF0uU1ZNWENfX0FsbF9Db250YWN0c19Db3ZlcmVkX19jOw0KICAgIE5ld1NDLlNWTVhDX19BbGxfUHJvZHVjdHNfQ292ZXJlZF9fYyA9IHJlY29yZHNbMF0uU1ZNWENfX0FsbF9Qcm9kdWN0c19Db3ZlcmVkX19jOw0KICAgIE5ld1NDLlNWTVhDX19BbGxfU2VydmljZXNfQ292ZXJlZF9fYyA9IHJlY29yZHNbMF0uU1ZNWENfX0FsbF9TZXJ2aWNlc19Db3ZlcmVkX19jOw0KICAgIE5ld1NDLlNWTVhDX19BbGxfU2l0ZXNfQ292ZXJlZF9fYyA9IHJlY29yZHNbMF0uU1ZNWENfX0FsbF9TaXRlc19Db3ZlcmVkX19jOw0KICAgIE5ld1NDLlNWTVhDX19CaWxsaW5nX1NjaGVkdWxlX19jID0gcmVjb3Jkc1swXS5TVk1YQ19fQmlsbGluZ19TY2hlZHVsZV9fYzsNCiAgICB0cnkgew0KCXZhciByZXQgPSBzZm9yY2UuY29ubmVjdGlvbi5jcmVhdGUoW05ld1NDXSk7IA0KCQlpZiAocmV0WzBdLmdldEJvb2xlYW4oInN1Y2Nlc3MiKSkgLy9CeSBHbSAwbiAxMEZlYjA5DQoJICAgIHsNCgkJCXJldHVybiByZXRbMF0uaWQ7ICAgICAgICAgICAgICAgIA0KCSAgICB9IA0KCSAgICBlbHNlIA0KCSAgICB7DQoJCQlhbGVydChyZXRbMF0uZXJyb3JzLm1lc3NhZ2UpOw0KCSAgICAgICAgcmV0dXJuIG51bGw7DQoJICAgIH0gDQoJfQ0KICAgIGNhdGNoKGVycm9yKQ0KCXsNCglhbGVydChTVk1YQ19HZXRNZXNzYWdlKCJNU0cwMDEiKSArICJcbiIgKyBlcnJvcik7DQoJcmV0dXJuIG51bGw7DQoJfQ0KfQ0KLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovDQpmdW5jdGlvbiBTVk1YQ19jbG9uZVJlZkxpc3Qob2JqTmFtZSwgb2xkSWQsIG5ld0lkLCByZWZGaWVsZE5hbWUpDQp7DQogICAgdmFyIHFmaWVsZHMgPSIiOw0KICAgIHZhciByZXN1bHQgPSBzZm9yY2UuY29ubmVjdGlvbi5kZXNjcmliZVNPYmplY3Qob2JqTmFtZSk7DQogICAgZm9yICh2YXIgaT0wOyBpPHJlc3VsdC5maWVsZHMubGVuZ3RoOyBpKyspIHsNCgl2YXIgZmllbGQgPSByZXN1bHQuZmllbGRzW2ldOw0KCWlmICgoZmllbGQuY3JlYXRlYWJsZSkgJiYgKGZpZWxkLnVwZGF0ZWFibGUpICYmIChmaWVsZC5uYW1lICE9ICJJZCIpKSB7DQoJcWZpZWxkcyA9IHFmaWVsZHMgKyBmaWVsZC5uYW1lICsgIiwgIg0KCX0NCiAgICB9DQogICAgdmFyIHNvcWwgPSAiU0VMRUNUICIgKyBxZmllbGRzICsgIiBJZCBGUk9NICIgKyBvYmpOYW1lICsgIiBXSEVSRSAiICsgcmVmRmllbGROYW1lICsgIiA9ICciICsgb2xkSWQgKyAiJyI7DQogICAgdmFyIHF1ZXJ5UmVzdWx0ID0gc2ZvcmNlLmNvbm5lY3Rpb24ucXVlcnkoc29xbCk7IA0KICAgIHZhciByZWNvcmRzID0gcXVlcnlSZXN1bHQuZ2V0QXJyYXkoInJlY29yZHMiKTsNCg0KICAgIGZvciAodmFyIGE9MDsgYTxyZWNvcmRzLmxlbmd0aDsgYSsrKQ0KCXsNCgl2YXIgTmV3T2JqID0gbmV3IHNmb3JjZS5TT2JqZWN0KG9iak5hbWUpOw0KCWZvciAodmFyIGk9MDsgaTxyZXN1bHQuZmllbGRzLmxlbmd0aDsgaSsrKSB7DQoJICAgIHZhciBmaWVsZCA9IHJlc3VsdC5maWVsZHNbaV07DQoJICAgIGlmICgoZmllbGQuY2FsY3VsYXRlZCA9PSAiZmFsc2UiKSAmJiAoZmllbGQuY3JlYXRlYWJsZSA9PSAidHJ1ZSIpICYmIChmaWVsZC5uYW1lICE9ICJJZCIpKSB7DQoJCQkJTmV3T2JqLnNldChmaWVsZC5uYW1lLCByZWNvcmRzW2FdLmdldChmaWVsZC5uYW1lKSk7DQoJICAgIH0NCgl9DQoJTmV3T2JqLnNldChyZWZGaWVsZE5hbWUsIG5ld0lkKTsNCgl0cnkgew0KCSAgICB2YXIgcmV0ID0gc2ZvcmNlLmNvbm5lY3Rpb24uY3JlYXRlKFtOZXdPYmpdKTsNCgkgICAgfQ0KCWNhdGNoKGVycm9yKQ0KCSAgICB7DQoJICAgIGFsZXJ0KFNWTVhDX0dldE1lc3NhZ2UoIk1TRzAwMSIpKTsNCgkgICAgcmV0dXJuIGZhbHNlOw0KCSAgICB9DQoJfQ0KfQ0KLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovDQovLyBUaGlzIGZ1bmN0aW9uIGlzIGEgaGFjayBmcm9tIFNGREMgbGlicmFyeS4gSXQgcmV0dXJucyBhIGphdmFzY3JpcHQgRGF0ZSB2YXJpYWJsZQ0KLy8gZm9yIGEgZGF0ZSB2YWx1ZSBpbiB0aGUgZ2l2ZW4gZm9ybWF0LiBUaGUgU0ZEQyByb3V0aW5lIHJldHVybnMgdGhlIHRpbWUgcGFydCB3aGljaCB3ZSBkb24ndCB3YW50Lg0KZnVuY3Rpb24gU1ZNWENfR2V0RGF0ZUZyb21Gb3JtYXQodmFsLGZvcm1hdCkNCnsNCgl2YWw9dmFsKyIiOw0KCWZvcm1hdD1mb3JtYXQrIiI7DQoJdmFyIGlfdmFsPTA7DQoJdmFyIGlfZm9ybWF0PTA7DQoJdmFyIGM9IiI7DQoJdmFyIHRva2VuPSIiOw0KCXZhciB0b2tlbjI9IiI7DQoJdmFyIHgseTsNCgl2YXIgbm93PW5ldyBEYXRlKCk7DQoJdmFyIHllYXI9bm93LmdldFllYXIoKTsNCgl2YXIgbW9udGg9bm93LmdldE1vbnRoKCkrMTsNCgl2YXIgZGF0ZT0xOw0KCXZhciBoaD1ub3cuZ2V0SG91cnMoKTsNCgl2YXIgbW09bm93LmdldE1pbnV0ZXMoKTsNCgl2YXIgc3M9bm93LmdldFNlY29uZHMoKTsNCgl2YXIgYW1wbT0iIjsNCgkNCgl3aGlsZSAoaV9mb3JtYXQgPCBmb3JtYXQubGVuZ3RoKSB7DQoJCS8vIEdldCBuZXh0IHRva2VuIGZyb20gZm9ybWF0IHN0cmluZw0KCQljPWZvcm1hdC5jaGFyQXQoaV9mb3JtYXQpOw0KCQl0b2tlbj0iIjsNCgkJd2hpbGUgKChmb3JtYXQuY2hhckF0KGlfZm9ybWF0KT09YykgJiYgKGlfZm9ybWF0IDwgZm9ybWF0Lmxlbmd0aCkpIHsNCgkJCXRva2VuICs9IGZvcm1hdC5jaGFyQXQoaV9mb3JtYXQrKyk7DQoJCQl9DQoJCS8vIEV4dHJhY3QgY29udGVudHMgb2YgdmFsdWUgYmFzZWQgb24gZm9ybWF0IHRva2VuDQoJCWlmICh0b2tlbj09Inl5eXkiIHx8IHRva2VuPT0ieXkiIHx8IHRva2VuPT0ieSIpIHsNCgkJCWlmICh0b2tlbj09Inl5eXkiKSB7IHg9Mjt5PTQ7IH0gLy8geD0yLHk9NCB0byBiZSBjb25zaXN0ZW50IHdpdGggamF2YS4NCgkJCWlmICh0b2tlbj09Inl5IikgICB7IHg9Mjt5PTI7IH0NCgkJCWlmICh0b2tlbj09InkiKSAgICB7IHg9Mjt5PTQ7IH0NCgkJCXllYXI9RGF0ZVV0aWwuX2dldEludCh2YWwsaV92YWwseCx5KTsNCgkJCWlmICh5ZWFyPT1udWxsKSB7IHJldHVybiAwOyB9DQoJCQlpX3ZhbCArPSB5ZWFyLmxlbmd0aDsNCgkJCWlmICh5ZWFyLmxlbmd0aD09Mikgew0KCQkJCWlmICh5ZWFyID4gNzApIHsgeWVhcj0xOTAwKyh5ZWFyLTApOyB9DQoJCQkJZWxzZSB7IHllYXI9MjAwMCsoeWVhci0wKTsgfQ0KCQkJCX0NCgkJCX0NCgkJZWxzZSBpZiAodG9rZW49PSJNTU0ifHx0b2tlbj09Ik5OTiIpew0KCQkJbW9udGg9MDsNCgkJCWZvciAodmFyIGk9MDsgaTxEYXRlVXRpbC5NT05USF9OQU1FUy5sZW5ndGg7IGkrKykgew0KCQkJCXZhciBtb250aF9uYW1lPURhdGVVdGlsLk1PTlRIX05BTUVTW2ldOw0KCQkJCWlmICh2YWwuc3Vic3RyaW5nKGlfdmFsLGlfdmFsK21vbnRoX25hbWUubGVuZ3RoKS50b0xvd2VyQ2FzZSgpPT1tb250aF9uYW1lLnRvTG93ZXJDYXNlKCkpIHsNCgkJCQkJaWYgKHRva2VuPT0iTU1NInx8KHRva2VuPT0iTk5OIiYmaT4xMSkpIHsNCgkJCQkJCW1vbnRoPWkrMTsNCgkJCQkJCWlmIChtb250aD4xMikgeyBtb250aCAtPSAxMjsgfQ0KCQkJCQkJaV92YWwgKz0gbW9udGhfbmFtZS5sZW5ndGg7DQoJCQkJCQlicmVhazsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCWlmICgobW9udGggPCAxKXx8KG1vbnRoPjEyKSl7cmV0dXJuIDA7fQ0KCQkJfQ0KCQllbHNlIGlmICh0b2tlbj09IkVFInx8dG9rZW49PSJFIil7DQoJCQlmb3IgKHZhciBpPTA7IGk8RGF0ZVV0aWwuREFZX05BTUVTLmxlbmd0aDsgaSsrKSB7DQoJCQkJdmFyIGRheV9uYW1lPURhdGVVdGlsLkRBWV9OQU1FU1tpXTsNCgkJCQlpZiAodmFsLnN1YnN0cmluZyhpX3ZhbCxpX3ZhbCtkYXlfbmFtZS5sZW5ndGgpLnRvTG93ZXJDYXNlKCk9PWRheV9uYW1lLnRvTG93ZXJDYXNlKCkpIHsNCgkJCQkJaV92YWwgKz0gZGF5X25hbWUubGVuZ3RoOw0KCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJZWxzZSBpZiAodG9rZW49PSJNTSJ8fHRva2VuPT0iTSIpIHsNCgkJCW1vbnRoPURhdGVVdGlsLl9nZXRJbnQodmFsLGlfdmFsLDEsMik7IC8vIEFsd2F5cyB1c2UgbWluIGxlbiAxIHRvIGJlIGxlbmllbnQuDQoJCQlpZihtb250aD09bnVsbHx8KG1vbnRoPDEpfHwobW9udGg+MTIpKXtyZXR1cm4gMDt9DQoJCQlpX3ZhbCs9bW9udGgubGVuZ3RoO30NCgkJZWxzZSBpZiAodG9rZW49PSJkZCJ8fHRva2VuPT0iZCIpIHsNCgkJCWRhdGU9RGF0ZVV0aWwuX2dldEludCh2YWwsaV92YWwsMSwyKTsgLy8gQWx3YXlzIHVzZSBtaW4gbGVuIDEgdG8gYmUgbGVuaWVudC4NCgkJCWlmKGRhdGU9PW51bGx8fChkYXRlPDEpfHwoZGF0ZT4zMSkpe3JldHVybiAwO30NCgkJCWlfdmFsKz1kYXRlLmxlbmd0aDt9DQoJCWVsc2UgaWYgKHRva2VuPT0iaGgifHx0b2tlbj09ImgiKSB7DQoJCQloaD1EYXRlVXRpbC5fZ2V0SW50KHZhbCxpX3ZhbCx0b2tlbi5sZW5ndGgsMik7DQoJCQlpZihoaD09bnVsbHx8KGhoPDEpfHwoaGg+MTIpKXtyZXR1cm4gMDt9DQoJCQlpX3ZhbCs9aGgubGVuZ3RoO30NCgkJZWxzZSBpZiAodG9rZW49PSJISCJ8fHRva2VuPT0iSCIpIHsNCgkJCWhoPURhdGVVdGlsLl9nZXRJbnQodmFsLGlfdmFsLHRva2VuLmxlbmd0aCwyKTsNCgkJCWlmKGhoPT1udWxsfHwoaGg8MCl8fChoaD4yMykpe3JldHVybiAwO30NCgkJCWlfdmFsKz1oaC5sZW5ndGg7fQ0KCQllbHNlIGlmICh0b2tlbj09IktLInx8dG9rZW49PSJLIikgew0KCQkJaGg9RGF0ZVV0aWwuX2dldEludCh2YWwsaV92YWwsdG9rZW4ubGVuZ3RoLDIpOw0KCQkJaWYoaGg9PW51bGx8fChoaDwwKXx8KGhoPjExKSl7cmV0dXJuIDA7fQ0KCQkJaV92YWwrPWhoLmxlbmd0aDt9DQoJCWVsc2UgaWYgKHRva2VuPT0ia2sifHx0b2tlbj09ImsiKSB7DQoJCQloaD1EYXRlVXRpbC5fZ2V0SW50KHZhbCxpX3ZhbCx0b2tlbi5sZW5ndGgsMik7DQoJCQlpZihoaD09bnVsbHx8KGhoPDEpfHwoaGg+MjQpKXtyZXR1cm4gMDt9DQoJCQlpX3ZhbCs9aGgubGVuZ3RoO2hoLS07fQ0KCQllbHNlIGlmICh0b2tlbj09Im1tInx8dG9rZW49PSJtIikgew0KCQkJbW09RGF0ZVV0aWwuX2dldEludCh2YWwsaV92YWwsdG9rZW4ubGVuZ3RoLDIpOw0KCQkJaWYobW09PW51bGx8fChtbTwwKXx8KG1tPjU5KSl7cmV0dXJuIDA7fQ0KCQkJaV92YWwrPW1tLmxlbmd0aDt9DQoJCWVsc2UgaWYgKHRva2VuPT0ic3MifHx0b2tlbj09InMiKSB7DQoJCQlzcz1EYXRlVXRpbC5fZ2V0SW50KHZhbCxpX3ZhbCx0b2tlbi5sZW5ndGgsMik7DQoJCQlpZihzcz09bnVsbHx8KHNzPDApfHwoc3M+NTkpKXtyZXR1cm4gMDt9DQoJCQlpX3ZhbCs9c3MubGVuZ3RoO30NCgkJZWxzZSBpZiAodG9rZW49PSJhIikgew0KCQkgICAgdmFyIGFtID0gRGF0ZVV0aWwuZ2V0QU1TeW1ib2woKTsNCgkJICAgIHZhciBwbSA9IERhdGVVdGlsLmdldFBNU3ltYm9sKCk7DQoJCSAgICB2YXIgc3RyYSA9IHZhbC5zdWJzdHJpbmcoaV92YWwsIGlfdmFsICsgYW0ubGVuZ3RoKTsNCgkJICAgIHZhciBzdHJwID0gdmFsLnN1YnN0cmluZyhpX3ZhbCwgaV92YWwgKyBwbS5sZW5ndGgpOw0KCQkJaWYgKHN0cmEgPT0gYW0gfHwgc3RyYS50b1VwcGVyQ2FzZSgpID09IGFtKSB7DQoJCQkgICAgYW1wbSA9IGFtOw0KCQkJfSBlbHNlIGlmIChzdHJwID09IHBtIHx8IHN0cnAudG9VcHBlckNhc2UoKSA9PSBwbSkgew0KCQkJICAgIGFtcG0gPSBwbTsNCgkJCX0gZWxzZSB7DQoJCQkgICAgcmV0dXJuIDA7DQoJCSAgICB9DQogICAgICAgICAgICAgICAgaV92YWwgKz0gYW1wbS5sZW5ndGg7DQoJCX0NCgkJZWxzZSB7DQoJCQlpZiAodmFsLnN1YnN0cmluZyhpX3ZhbCxpX3ZhbCt0b2tlbi5sZW5ndGgpIT10b2tlbikge3JldHVybiAwO30NCgkJCWVsc2Uge2lfdmFsKz10b2tlbi5sZW5ndGg7fQ0KCQkJfQ0KCQl9DQoJLy8gSWYgdGhlcmUgYXJlIGFueSB0cmFpbGluZyBjaGFyYWN0ZXJzIGxlZnQgaW4gdGhlIHZhbHVlLCBpdCBkb2Vzbid0IG1hdGNoDQoJaWYgKGlfdmFsICE9IHZhbC5sZW5ndGgpIHsgcmV0dXJuIDA7IH0NCgkvLyBJcyBkYXRlIHZhbGlkIGZvciBtb250aD8NCglpZiAobW9udGg9PTIpIHsNCgkJLy8gQ2hlY2sgZm9yIGxlYXAgeWVhcg0KCQlpZiAoICggKHllYXIlND09MCkmJih5ZWFyJTEwMCAhPSAwKSApIHx8ICh5ZWFyJTQwMD09MCkgKSB7IC8vIGxlYXAgeWVhcg0KCQkJaWYgKGRhdGUgPiAyOSl7IHJldHVybiAwOyB9DQoJCQl9DQoJCWVsc2UgeyBpZiAoZGF0ZSA+IDI4KSB7IHJldHVybiAwOyB9IH0NCgkJfQ0KCWlmICgobW9udGg9PTQpfHwobW9udGg9PTYpfHwobW9udGg9PTkpfHwobW9udGg9PTExKSkgew0KCQlpZiAoZGF0ZSA+IDMwKSB7IHJldHVybiAwOyB9DQoJCX0NCgkvLyBDb3JyZWN0IGhvdXJzIHZhbHVlDQoJaWYgKGhoPDEyICYmIGFtcG0gPT0gRGF0ZVV0aWwuZ2V0UE1TeW1ib2woKSkgeyBoaD1oaC0wKzEyOyB9DQoJZWxzZSBpZiAoaGg+MTEgJiYgYW1wbSA9PSBEYXRlVXRpbC5nZXRBTVN5bWJvbCgpKSB7IGhoLT0xMjsgfQ0KCXZhciBuZXdkYXRlPW5ldyBEYXRlKHllYXIsbW9udGgtMSxkYXRlLGhoLG1tLHNzKTsNCglyZXR1cm4gbmV3ZGF0ZTsNCn0NCi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8NCi8vIENvbnZlcnQgYSBkYXRlIGZyb20gdXNlcidzIGxvY2FsIGZvcm1hdCB0byBTRkRDJ3MgZm9ybWF0IChZWVlZLU1NLUREKQ0KZnVuY3Rpb24gU1ZNWENfQ29udmVydFRvU0ZEQ0RhdGVGb3JtYXQoY3RsbmFtZSkNCnsNCiAgICB2YXIgZHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjdGxuYW1lKS52YWx1ZTsNCiAgICBpZiAoZHQubGVuZ3RoIDw9IDApIHJldHVybiBudWxsOw0KDQogICAgdmFyIGQgPSBTVk1YQ19HZXREYXRlRnJvbUZvcm1hdChkdCwgd2luZG93Lm9wZW5lci5Vc2VyQ29udGV4dC5kYXRlRm9ybWF0KTsNCg0KICAgIHZhciBtb24gPSBwYXJzZUludChkLmdldE1vbnRoKCkpICsgMTsNCiAgICBpZiAobW9uIDwgMTApIHsgbW9uID0gIjAiICsgbW9uOyB9DQoNCiAgICB2YXIgZGF5ID0gcGFyc2VJbnQoZC5nZXREYXRlKCkpOw0KICAgIGlmIChkYXkgPCAxMCkgeyBkYXkgPSAiMCIgKyBkYXk7IH0NCg0KICAgIHZhciBkdHMgPSBkLmdldEZ1bGxZZWFyKCkgKyAiLSIgKyBtb24gKyAiLSIgKyBkYXk7DQoNCiAgICByZXR1cm4gZHRzOw0KfQ0KLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLw0KLy8gQ29udmVydCBhIERhdGUgdmFyaWFibGUgdG8gU0ZEQyBkYXRlIGZvcm1hdA0KZnVuY3Rpb24gU1ZNWENfQ29udmVydERhdGVUb1NGREMoZGF0ZXZhbCkNCnsNCiAgICB2YXIgbW9uID0gcGFyc2VJbnQoZGF0ZXZhbC5nZXRNb250aCgpKSArIDE7DQogICAgaWYgKG1vbiA8IDEwKSB7IG1vbiA9ICIwIiArIG1vbjsgfQ0KDQogICAgdmFyIGRheSA9IHBhcnNlSW50KGRhdGV2YWwuZ2V0RGF0ZSgpKTsNCiAgICBpZiAoZGF5IDwgMTApIHsgZGF5ID0gIjAiICsgZGF5OyB9DQoNCiAgICB2YXIgZHRzID0gZGF0ZXZhbC5nZXRGdWxsWWVhcigpICsgIi0iICsgbW9uICsgIi0iICsgZGF5Ow0KDQogICAgcmV0dXJuIGR0czsNCn0NCi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8NCmZ1bmN0aW9uIFNWTVhDX0dldEN1cnJlbnRUaW1lKCkNCnsNCiAgICB2YXIgc2VydmVyVGltZSA9IHNmb3JjZS5jb25uZWN0aW9uLmdldFNlcnZlclRpbWVzdGFtcCgpOw0KICAgIHJldHVybiBzZXJ2ZXJUaW1lLnRpbWVzdGFtcDsNCn0NCg==</fileContent>
    <fileName>SVMXC_Library.js</fileName>
    <name>SVMXC_ValidateIBAddress</name>
    <supportsCaching>true</supportsCaching>
</Scontrol>
